<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script>
    var table = $('table')[0];
    var rowGroups = {};
    
    //loop through the rows excluding the first row (the header row)
    while (table.rows.length > 1) {
      var row = table.rows[1];
      var id = $(row.cells[0]).text();
    
      if (!rowGroups[id]) rowGroups[id] = [];
    
      if (rowGroups[id].length > 0) {
        row.className = 'subrow';
        $(row).slideUp();
      }
      rowGroups[id].push(row);
      table.deleteRow(1);
    }
    
    //loop through the row groups to build the new table content
    for (var id in rowGroups) {
      var group = rowGroups[id];
    
      for (var j = 0; j < group.length; j++) {
        var row = group[j];
        var notSubrow = false;
    
        if (group.length > 1 && j == 0) {
          //add + button
          var lastCell = row.cells[row.cells.length - 1];
          var rowId = row.id;
          var tableId = table.id;
          notSubrow = true;
          //$("<span class='collapsed'>").appendTo(lastCell).click(plusClick);                                         
        }
        table.tBodies[0].appendChild(row);
    
        if (notSubrow) {
          $('#' + tableId).find('#' + rowId).attr('class', 'subrow');
          $('#' + tableId).find('#' + rowId).before("<tr class='subrowHeader' style='background:#E6E6FA;border-bottom:1px solid #708AA0 !important'><td colspan='3'>&nbsp;group by&nbsp" + $(row.cells[0]).text() + "&nbsp;(" + group.length + ")" + "<span class='collapsed' onclick='plusClick(this)' style='float:left;display:inline'></td></tr>");
          $('#' + tableId).find('#' + rowId).hide();
        }
      }
    }
    //function handling button click
    function plusClick(e) {
      var collapsed = $(e).hasClass('collapsed');
      var fontSize = collapsed ? 14 : 0;
      $(e).closest('tr').nextUntil(':not(.subrow)').slideToggle('fast').css('font-size', fontSize);
      $(e).toggleClass('collapsed');
    }
    </script>
<table id="table1">
  <tr id="tr1">
    <th>Parent ID</th>
    <th>Parent Name</th>
    <th>Study</th>
  </tr>
  <tr id="tr2">
    <td>1111</td>
    <td>Angela</td>
    <td>XRAY</td>
  </tr>
  <tr id="tr3">
    <td>2222</td>
    <td>Bena</td>
    <td>Untrasound</td>
  </tr>
  <tr id="tr4">
    <td>3333</td>
    <td>Luis</td>
    <td>CT Scan</td>
  </tr>
  <tr id="tr5">
    <td>1111</td>
    <td>Angela</td>
    <td>Untrasound</td>
  </tr>
  <tr id="tr6">
    <td>3333</td>
    <td>Luis</td>
    <td>LCD</td>
  </tr>
  <tr id="tr7">
    <td>3333</td>
    <td>Luis</td>
    <td>LASER</td>
  </tr>
</table>

